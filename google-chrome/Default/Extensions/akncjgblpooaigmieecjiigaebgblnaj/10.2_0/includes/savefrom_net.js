!function(e){function t(t){for(var n,s,o=t[0],u=t[1],l=t[2],c=0,f=[];c<o.length;c++)s=o[c],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(d&&d(t);f.length;)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==i[u]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},i={11:0},a=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=u;a.push([109,0]),r()}({109:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(16),a=r(25),s=r(38),o=r(8),u=r(3),l=r(11),d=r(28),c=r(18),f=r(51),m=r(24),p=r(27),h=r(9),b=r(39);d.a.isSingle()&&Object(a.b)("savefrom",(function(e,t){var r=Object(i.a)(t),a=t.preferences;if(location.href.indexOf("firstrun")){var s=document.querySelector('[data-section-name="youtube"]');s&&s.remove()}n.a.onMessage.addListener((function(e,t,r){"updatePreferences"!==e.action||Object.assign(a,e.preferences)})),setTimeout((function(){return d.run()}));var d={name:e,scriptId:"savefrom__ext_script",dataAttr:"data-extension-disabled",attrObservers:[],run:function(){if(d.setExtParams(),location.href.search(/\/(update-helper|userjs-setup)\.php/i)>-1){var e=document.getElementById("js-not-remind");e&&e.addEventListener("click",(function(e){0===e.button&&n.a.sendMessage({action:"hideUserjsMigrationInfo"})}))}else c.a.isAvailable()&&this.mutationMode.enable()},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop()},enable:function(){if(this.observer)return this.observer.start();this.observer=new c.a({queries:[{css:"form",is:"added",callback:function(e){for(var t,r=0;t=e.added[r];r++)d.waitFormId(t),d.mutationMode.stop()}},{css:'[href="#muxer"][data-sources]',is:"added",callback:function(e){e.added.forEach((function(e){e.removeAttribute("download"),e.dataset.watched||(e.dataset.watched="1",e.addEventListener("click",(function(t){t.preventDefault();var r=JSON.parse(e.dataset.sources);Object(p.a)(Object(h.e)(b.a,r),"sf-muxer-parent")})))}))}}]})}},waitFormId:function(e){var t=this,r=new f.a({attrs:[{name:"id",callback:function(r){"sf_form"===r.value&&(d.bindForm(e),t.attrObservers.splice(0).forEach((function(e){return e.stop()})))}}],target:e});this.attrObservers.push(r)},bindForm:function(e){e.addEventListener("submit",(function(t){var i=e.sf_url.value;if(i&&"1"!=e.getAttribute(d.dataAttr)){var a={getVKLinks:[/^https?:\/\/(?:[a-z]+\.)?(?:vk\.com|vkontakte\.ru)\/(video-?\d+_-?\d+)/i,/^https?:\/\/(?:[a-z]+\.)?(?:vk\.com|vkontakte\.ru)\/video_ext.php\?(.*oid=-?\d+.*)$/i,/^https?:\/\/(?:[a-z]+\.)?(?:vk\.com|vkontakte\.ru)\/[\w\-\.]+\?.*z=(video-?\d+_-?\d+)/i],getVimeoLinks:[/^https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/(?:\w+\#)?(\d+)/i,/^https?:\/\/player\.vimeo\.com\/video\/(\d+)/i,/^https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/channels\/(?:[^\/]+)\/(\d+)$/i,/^https?:\/\/(?:[\w\-]+\.)?vimeo\.com\/[^\/]+\/review\/(\d+)\/(?:\d+)/i],getDailymotionLinks:[/^http:\/\/(?:www\.)?dai\.ly\/([a-z0-9]+)_?/i,/^https?:\/\/(?:[\w]+\.)?dailymotion\.com(?:\/embed|\/swf)?\/video\/([a-z0-9]+)_?/i],getFacebookLinks:[/^https?:\/\/(?:[\w]+\.)?facebook\.com(?:\/video)?\/video.php.*[?&]{1}v=([0-9]+).*/i,/^https?:\/\/(?:[\w]+\.)?facebook\.com\/.+\/videos(?:\/\w[^\/]+)?\/(\d+)/i],getMailruLinks:[/^https?:\/\/my\.mail\.ru\/([^\/]+\/[^\/]+\/[^\/]+\/[^\/]+\/[^\/]+\.html).*/i,/^https?:\/\/videoapi\.my\.mail\.ru\/videos\/(embed\/[^\/]+\/[^\/]+\/[^\/]+\/[^\/]+\.html).*/i]};for(var s in a)for(var o=0;o<a[s].length;o++){var u=i.match(a[s][o]);if(u&&u.length>1){u=u[1];var l=r.getMatchFirst(i,/list=([\w\-]+)/i);t.preventDefault(),t.stopPropagation();var c={extVideoId:u,action:s,checkSubtitles:!0,checkLinks:!0};return"getVimeoLinks"===s&&(c.url=i),n.a.sendMessage(c,(function(e){d.setLinks(e.action,e.extVideoId,e.links,e.title,null,e.subtitles,l,e.duration,e.thumb,e.checkLinks)})),!1}}}}),!1),document.body.addEventListener("click",(function(e){var t=e.target;if("I"===t.tagName&&t.classList.contains("file-info-btn"))d.onInfoBtnClick.call(t,e);else{if("A"!=t.tagName){if("A"!=t.parentNode.tagName)return;t=t.parentNode}if((n.a.isChrome||n.a.isFirefox||n.a.isGM)&&t.classList.contains("link-download")&&!t.classList.contains("disabled")&&t.getAttribute("download"))return t.classList.contains("ga_track_events")&&t.getAttribute("data-ga-event")&&o.a.trigger(t,"sendstats",{bubbles:!0,cancelable:!1}),r.downloadOnClick(e,null,{withoutPropagation:!0});var i=t.getAttribute("data-video-id");if(i&&"1"!=t.getAttribute(d.dataAttr)){var a={vk:"getVKLinks",yt:"getYoutubeLinks"};if(2==(i=i.split(":",2)).length&&a[i[0]]){e.preventDefault(),e.stopPropagation(),t.style.display="none",t.id||(t.id=i[0]+"_"+i[1]+"_"+1e3*Math.random()+"_"+(new Date).getTime());var s={extVideoId:i[1],action:a[i[0]],checkSubtitles:!0,checkLinks:!0};return n.a.sendMessage(s,(function(e){d.setLinks(e.action,e.extVideoId,e.links,e.title,t,e.subtitles,null,e.duration,e.thumb,e.checkLinks)})),!1}}}}),!0)},onInfoBtnClick:function(e){if(e.preventDefault(),e.stopPropagation(),!this.classList.contains("sf-clicked")){this.classList.add("sf-clicked");var t="sf-btn"+function(){for(var e=Date.now(),t=e;e===t;)t=Date.now();return t}();this.classList.add(t);var i=function(){var e=document.getElementsByClassName("sf-script")[0];void 0!==e&&e.parentNode.removeChild(e)};i(),document.body.appendChild(u.a.create("script",{class:"sf-script",text:'(function(btnClassName){try{var btn=document.getElementsByClassName(btnClassName);var $btn=$(btn);$btn.unbind("click").removeAttr("onclick").addClass("active");if(btn.onclick){btn.onclick=null}var parent=$btn.closest(".result-box").find(".meta")[0];if(!parent){return}var boxId="file_info"+btnClassName;var box=sf.append(parent,"div",{"id":boxId,"class":"media-info"});sf.append(box,"span",{id:boxId+"_busy"});sf.busy(boxId+"_busy",true)}catch(err){}})('+JSON.stringify(t)+")"}));var a=this.nextElementSibling.href,s=this.nextElementSibling.textContent;n.a.sendMessage({action:"getFileSize",url:a},(function(e){var a=e.fileSize,o={size:{name:{trans:n.a.i18n.getMessage("size")},value:r.sizeHuman(a)}};i(),document.body.appendChild(u.a.create("script",{class:"sf-script",text:'(function(btnClassName,title,json){try{var busy=document.getElementById("file_info"+btnClassName+"_busy");$(busy).slideUp();var btn=document.getElementsByClassName(btnClassName);sf.fileInfo.show(json,title,btn,busy.parentNode)}catch(err){}})('+[JSON.stringify(t),JSON.stringify(s),JSON.stringify(o)].join(",")+")"}))}))}},setExtParams:function(){var e=u.a.create("script",{id:"savefrom__ext_params",type:"text/javascript"}),t={id:a.sfHelperName,version:a.version,enable:1};e.textContent='(function(json){try{if(window.setBrowserExtension&&typeof setBrowserExtension=="function"){setBrowserExtension(json)}}catch(err){}})('+JSON.stringify(t)+")",document.body.appendChild(e)},setLinks:function(e,t,r,n,i,a,s,o,u,l){if(!1!==l)switch(e){case"getYoutubeLinks":d.setYoutubeLinks(t,r,n,i,a,s,o,u);break;case"getVKLinks":d.setVKLinks(t,r,n,i,o,u);break;case"getVimeoLinks":d.setVimeoLinks(t,r,n,i,o,u);break;case"getDailymotionLinks":d.setDailymotionLinks(t,r,n,i,o,u);break;case"getFacebookLinks":d.setFacebookLinks(t,r,n,i,o,u);break;case"getMailruLinks":d.setMailruLinks(t,r,n,i,o,u)}else d.handleError(i)},handleError:function(e){if(e)e&&(e.style.display="",e.setAttribute(d.dataAttr,"1"),e.click());else{var t=document.getElementById("sf_form");t&&(t.setAttribute(d.dataAttr,"1"),t.submit(),t.removeAttribute(d.dataAttr))}},showVideoResult:function(e,t){e&&e.url&&e.url.length?Object(m.a)([t&&t.id,e],(function(e,t){if(e){var r=document.getElementById(e);sf.result.replaceAjaxResult(t,!0,!0,r)}else sf.finishRequest(!0),sf.videoResult.show(t)})):d.handleError(t)},setVKLinks:function(e,t,n,i,a,s){if(e&&t){var o={id:e,url:t,hosting:"vk.com (h)",meta:{title:n?l.a.modify(n):"download",source:"http://vk.com/"+e,duration:r.secondsToDuration(a)}};s&&(o.thumb=s);for(var u=0;u<o.url.length;u++)o.url[u].info_url="#",!o.url[u].ext&&o.url[u].type&&(o.url[u].ext=o.url[u].type),o.sd||o.url[u].subname?!o.hd&&o.url[u].subname&&parseInt(o.url[u].subname)>=720&&(o.hd={url:o.url[u].url}):o.sd={url:o.url[u].url};d.showVideoResult(o,i)}else d.handleError(i)},setYoutubeLinks:function(e,t,i,a,s,o,u){if(!e||!t)return d.handleError(a);var c={id:e,url:[],hosting:"101 (h)",meta:{title:i?l.a.modify(i):"download",source:e?"http://youtube.com/watch?v="+e:"",duration:r.secondsToDuration(u)},thumb:e?"http://i.ytimg.com/vi/"+e+"/hqdefault.jpg":""},f=!1;r.video.yt.init();var m=t.meta||{},p=r.video.yt.format;for(var h in p){var b=p[h];for(var v in b){var y=m[v]||{};if(t[v]){!f&&t[v].search(/(\?|&)sig(nature)?=/i)>-1&&(f=!0);var g=b[v].quality;y.quality&&(g=y.quality);var k={url:t[v],name:h,subname:g,info_url:"#",type:h,quality:g,attr:{}};b[v].sFps&&(k.subname+=" "+(y.fps||60)),["Audio AAC","Audio Vorbis","Audio Opus"].includes(h)&&(k.attr.style="white-space: nowrap;");var w={"Audio AAC":{type:"AAC",ext:"aac"},"Audio Vorbis":{type:"Vorbis",ext:"webm"},"Audio Opus":{type:"Opus",ext:"webm"}};b[v]["3d"]?(k.name="3D "+k.name,k["3d"]=!0):b[v].noAudio?(k.group="MP4 ",k.attr.class="no-audio"):w[h]?k=Object.assign({},k,w[h]):("flv"!==h.toLowerCase()||c.sd||(c.sd={url:t[v]}),parseInt(g)>=720&&c.sd&&!c.hd&&(c.hd={url:t[v]})),void 0===k.ext&&k.type&&(k.ext=k.type.toLowerCase()),c.url.push(k),delete t[v]}}}if(f){if(s&&s.length>0){var x=e.replace(/[^\w]/,"_"),L="yt_subs_btn_"+x;x="yt_subs_"+x;var _=c.meta.title?btoa(r.utf8Encode(c.meta.title)):"";c.action=[],c.action.push({name:n.a.i18n.getMessage("subtitles"),attr:{id:L,href:"#"},bind:{click:{fn:'sf.youtubeSubtitles("{vid}","{subsId}","{btnId}","{subtToken}","{subsTitle}")'.replace("{vid}",e).replace("{subsId}",x).replace("{btnId}","#"+L).replace("{subtToken}","extension").replace("{subsTitle}",_)}}})}if(!c.url.find((function(e){var t="MP4"===e.type.toLowerCase()&&parseInt(e.quality)>=720;return(!e.attr||"no-audio"!==e.attr.class)&&t}))&&t.meta&&t.meta.muxer){var A=t.meta.muxer;c.url.push({ext:A.mmProps.format,type:A.mmProps.format.toUpperCase(),url:"#muxer",name:"MP4",subname:A.quality,info_url:"#",quality:A.quality,attr:{"data-sources":JSON.stringify(A.mmProps)}})}d.showVideoResult(c,a)}else d.handleError(a)},setVimeoLinks:function(e,t,n,i,a,s){if(e&&t){t&&Array.isArray(t)&&(t=t.sort((function(e,t){var r=parseInt(e.height),n=parseInt(t.height);return isNaN(r)&&isNaN(n)?0:isNaN(r)?-1:isNaN(n)?1:r>n?-1:r===n?0:1})));var o={id:e,url:t,hosting:"vimeo.com (h)",meta:{title:n?l.a.modify(n):"download",source:"http://vimeo.com/"+e,duration:r.secondsToDuration(a)}};s&&(o.thumb=s);for(var u=0;u<o.url.length;u++)o.url[u].info_url="#",!o.url[u].ext&&o.url[u].type&&(o.url[u].ext=o.url[u].type),o.sd||"SD"!=o.url[u].name?o.hd||"HD"!=o.url[u].name||(o.hd={url:o.url[u].url}):o.sd={url:o.url[u].url};d.showVideoResult(o,i)}else d.handleError(i)},setDailymotionLinks:function(e,t,n,i,a,s){if(e&&t){var o=t.filter((function(e){if(!e.extra)return!0})),u={id:e,url:o=o.map((function(e){if(e.ext&&e.name){var t=e.name.match(/\d+x(\d+)/);t&&t[1]&&(e.name=e.ext.toUpperCase()+" "+(t&&t[1]))}return e})),hosting:"dailymotion.com (h)",meta:{title:n?l.a.modify(n):"download",source:"http://dai.ly/"+e,duration:r.secondsToDuration(a)}};s&&(u.thumb=s);for(var c,f=0,m=0,p=0;c=o[p];p++)c.info_url="#",c.height>=720?f<c.height&&(u.hd={url:c.url},f=c.height):m<c.height&&(u.sd={url:c.url},m=c.height),delete c.height;d.showVideoResult(u,i)}else d.handleError(i)},setFacebookLinks:function(e,t,n,i,a,s){if(e&&t){var o={id:e,url:t,hosting:"facebook.com (h)",meta:{title:n?l.a.modify(n):"download",source:"https://facebook.com/video.php?v="+e,duration:r.secondsToDuration(a)}};s&&(o.thumb=s);for(var u,c=0;u=t[c];c++)u.info_url="#","SD"===u.name?o.sd={url:u.url}:"HD"===u.name&&(o.hd={url:u.url}),u.subname=u.name,u.name=u.ext;d.showVideoResult(o,i)}else d.handleError(i)},setMailruLinks:function(e,t,n,i,a,s){if(e&&t){var o={id:e,url:t,hosting:"mail.ru (h)",meta:{title:n?l.a.modify(n):"download",source:"http://my.mail.ru/"+e,duration:r.secondsToDuration(a)}};s&&(o.thumb=s);for(var u,c=0,f=0;u=o.url[f];f++)u.info_url="#",isNaN(parseInt(u.subname))?"sd"===u.subname.toLowerCase()?o.sd={url:u.url}:"hd"===u.subname.toLowerCase()&&(o.hd={url:u.url}):(c<u.subname&&u.subname<720&&(o.sd={url:u.url},c=u.subname),!o.hd&&u.subname>="720"&&(o.hd={url:u.url}));d.showVideoResult(o,i)}else d.handleError(i)}}}),(function(){return Object(s.a)()?n.a.isGM&&-1!==location.href.indexOf("/tools/helper-check.html"):["/faq.php","/advertising.php","/EULA.html","/terms.html","/privacy-policy.html","/apk","/webmaster.php"].every((function(e){return-1===location.href.indexOf(e)}))}))}});