!function(e){function t(t){for(var n,o,d=t[0],s=t[1],c=t[2],u=0,f=[];u<d.length;u++)o=d[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(l&&l(t);f.length;)f.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,d=1;d<a.length;d++){var s=a[d];0!==i[s]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={4:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var d=window.savefromContentScriptWebpackJsonp=window.savefromContentScriptWebpackJsonp||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var c=0;c<d.length;c++)t(d[c]);var l=s;r.push([123,0]),a()}({123:function(e,t,a){"use strict";a.r(t);var n=a(10),i=a(4),r=a(2),o=a.n(r),d=a(0),s=a(3),c=a(38),l=/^[^{]+\{\s*\[native \w/,u=function(e,t){return(u=l.test(document.compareDocumentPosition)||l.test(document.contains)?function(e,t){var a=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(a.contains?a.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1}).apply(this,arguments)},f=function(e,t){return u(e,t)},v=a(8),p=a(21),h=a(28),m=a(18),b=a(16),y=a(33),g=a(51),k=a(25),S=a(26),x=a(19),w=a(15),O=a(29),B=a(17);h.a.isSingle()&&Object(k.b)("instagram",(function(e,t){var a=Object(b.a)(t),r=t.preferences,c=r.moduleInstagram?1:0,l=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome");d.a.onMessage.addListener((function(t,a,n){if("getModuleInfo"===t.action){if(t.url!==location.href)return;return n({state:c,moduleName:e})}if("changeState"===t.action){if(e!==t.moduleName)return;return h.changeState(t.state)}if("updatePreferences"!==t.action){if(c)return"updateLinks"===t.action?h.updateLinks():void 0}else Object.assign(r,t.preferences)})),c&&setTimeout((function(){h.run()}));var u,h={dlBtnClassName:"savefrom-helper--btn",styleEl:null,run:function(){c=1,this.insertStyle(),m.a.isAvailable()&&this.mutationMode.enable()},rmStyle:function(){this.styleEl&&this.styleEl.parentNode&&this.styleEl.parentNode.removeChild(this.styleEl)},insertStyle:function(){this.styleEl?this.styleEl.parentNode||document.head.appendChild(this.styleEl):(this.styleEl=s.a.create("style",{text:Object(p.a)([{selector:"."+this.dlBtnClassName,style:{display:"none",border:"1px solid #F8F8F8",top:"8px",right:"8px",padding:0,position:"absolute",backgroundColor:"#F8F8F8",cursor:"pointer",lineHeight:0}},{selector:"."+this.dlBtnClassName+" svg",style:{margin:"2px"}},{selector:"."+this.dlBtnClassName+" svg path",style:{fill:"#777777"}},{selector:".Embed ."+this.dlBtnClassName,style:{border:"1px solid #B5B5B5",borderRadius:"4px",padding:"3px"}},{selector:"."+this.dlBtnClassName+":hover svg path",style:{fill:"#3f729b"}},{selector:"."+this.dlBtnClassName+":active",style:{outline:0,boxShadow:"inset 0 3px 5px rgba(0, 0, 0, 0.125)"}},{selector:["*:hover > ."+this.dlBtnClassName,"*.sf-touch-show > ."+this.dlBtnClassName],style:{display:"block"}},{selector:"*.sf-touch-hide > ."+this.dlBtnClassName,style:{display:"none"}}])}),document.head.appendChild(this.styleEl))},updateLinks:function(){this.changeState(0),this.changeState(1)},changeState:function(e){c=e,this.rmDlBtn(),this.rmStyle(),this.mutationMode.stop(),e&&this.run()},rmDlBtn:function(){for(var e,t=document.querySelectorAll("."+this.dlBtnClassName),a=0;e=t[a];a++)e.parentNode.removeChild(e)},getDbBtnEl:function(e){Object(w.a)({category:"append",subcategory:"in",event:"b"});var t=s.a.create("a",{class:[this.dlBtnClassName],href:e.url,download:e.filename,title:d.a.i18n.getMessage("download"),style:{position:"absolute",zIndex:100},on:[["click",k],["mouseover",function(e){if(l){if(!e.altKey&&!e.ctrlKey)return e.preventDefault(),void Object(O.b)(t,{content:d.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60},{el:{className:"mp4",download:"mp4"}});Object(O.a)(t,{content:d.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60})}}]],append:[a.svg.getSvg("download",null,16,16)]});return t},showOnTouch:function(e,t){if(!(e.dataset.sfTouch>0)){var a=!1,n=null,i=function(){a&&(clearTimeout(n),n=setTimeout((function(){a&&(a=!1,e.classList.remove("sf-touch-show"),e.classList.add("sf-touch-hide"))}),3e3))};s.a.create(e,{data:{sfTouch:"1"},on:[["touchstart",function(t){a||(a=!0,e.classList.remove("sf-touch-hide"),e.classList.add("sf-touch-show"))}],["touchend",function(e){i()}]]})}},addDlBtn:(u=Object(i.a)(o.a.mark((function e(t,a,r){var d,c,l,u,p,m,b,y,k,S,x,w,O,E,j,N,C,L,D,q,T,M,F,P=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d="embed"===a,c=t,l=null,t.classList.add("sf-root-media-container"),t.style.position="relative",(u=t.querySelector("div > div > video"))||"video"!==r.tagName||"strangeVideo"!==a||(u=r),!u){e.next=14;break}return e.next=10,B.a.createLinkExtractor("ig-post-video").extractLinks({element:u});case 10:p=e.sent,m=Object(n.a)(p,1),b=m[0],l=b;case 14:if(l){e.next=45;break}if(!d){e.next=26;break}if(!(y=c.querySelector(".EmbedFrame img.EmbeddedMediaImage"))){e.next=24;break}return e.next=20,B.a.createLinkExtractor("ig-post-photo").extractLinks({element:y});case 20:k=e.sent,S=Object(n.a)(k,1),x=S[0],l=x;case 24:e.next=45;break;case 26:if(!(y=c.querySelector("div > img[src][srcset]"))){e.next=36;break}return e.next=30,B.a.createLinkExtractor("ig-post-photo").extractLinks({element:y});case 30:w=e.sent,O=Object(n.a)(w,1),E=O[0],l=E,e.next=45;break;case 36:if(!(y=c.querySelector("div > img"))){e.next=44;break}return e.next=40,B.a.createLinkExtractor("ig-post-photo").extractLinks({element:y});case 40:j=e.sent,N=Object(n.a)(j,1),C=N[0],l=C;case 44:!y||"hidden"!==y.style.visibility&&y.src||(L=new g.a({target:y,attrs:[{name:"src",callback:function(e){e.value&&(P.addDlBtn(t,a,r),L.stop())}}]}));case 45:if(l){e.next=47;break}return e.abrupt("return");case 47:D=this.getDbBtnEl(l),q="",T=null,y?(q="image",T=y):(q="video",T=u),M=new g.a({target:T,attrs:[{name:"src",callback:function(){var e=Object(i.a)(o.a.mark((function e(t){var a,i,r,d,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.value===l.url){e.next=18;break}if(l=null,"image"!==q){e.next=11;break}return e.next=5,B.a.createLinkExtractor("ig-post-photo").extractLinks({element:T});case 5:a=e.sent,i=Object(n.a)(a,1),r=i[0],l=r,e.next=17;break;case 11:return e.next=13,B.a.createLinkExtractor("ig-post-video").extractLinks({element:T});case 13:d=e.sent,s=Object(n.a)(d,1),c=s[0],l=c;case 17:l&&D.parentNode?(D.href=l.url,D.download=l.filename):M.stop();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}),v.a.onRemoveEvent(T,(function(){f(document.body,r)&&(r.dataset.sfSkip=0,h.mutationMode.observer.trigger(r))})),d&&(F=document.querySelector(".Header"))&&(c=F,s.a.create(D,{style:{position:"relative",zIndex:100,display:"block",left:"auto",top:"auto",marginLeft:"10px"}})),c.appendChild(D),this.showOnTouch(c,D);case 56:case"end":return e.stop()}}),e,this)}))),function(e,t,a){return u.apply(this,arguments)}),addBtnVideoStory:function(){var e=document.querySelector("section > div > header");if(e){var t=h.createStoryContainer(e);setTimeout(Object(i.a)(o.a.mark((function a(){var i,r,d,s,c,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.a.createLinkExtractor("ig-story-video").extractLinks({element:e});case 2:i=a.sent,r=Object(n.a)(i,1),d=r[0],s=d.url,c=d.filename,(l=h.createStoryButton(s,c)).addEventListener("click",k),t.appendChild(l);case 10:case"end":return a.stop()}}),a)}))),100)}},addBtnImageStory:function(e){var t=document.querySelector("section > div > header");if(t){var a=h.createStoryContainer(t);setTimeout(Object(i.a)(o.a.mark((function t(){var i,r,d,s,c,l;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.a.createLinkExtractor("ig-story-photo").extractLinks({element:e});case 2:i=t.sent,r=Object(n.a)(i,1),d=r[0],s=d.url,c=d.filename,(l=h.createStoryButton(s,c)).addEventListener("click",k),a.appendChild(l);case 10:case"end":return t.stop()}}),t)}))),100)}},createStoryContainer:function(e){if(e){var t=document.querySelector(".sf--story-container");t&&t.remove();var a=s.a.create("div",{className:"sf--story-container"}),n=document.querySelector("header > div:nth-child(2) > div:nth-child(2)");if(!n)return e.appendChild(a),a;var i=n.querySelector("button");return i?n.insertBefore(a,i):e.appendChild(a),a}},createStoryButton:function(e,t){Object(w.a)({category:"append",subcategory:"in",event:"b"});var n=s.a.create("a",{className:"sf--story-btn",append:[a.svg.getSvg("download","white",15,15)],download:t,href:e,style:{cursor:"pointer",marginRight:"2px",marginTop:"2px"},on:["mouseover",function(e){if(l){if(!e.altKey&&!e.ctrlKey)return e.preventDefault(),void Object(O.b)(n,{content:d.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60},{el:{className:"story"}});Object(O.a)(n,{content:d.a.i18n.getMessage("downloadTitle"),defaultWidth:400,defaultHeight:60})}}]});return n},mutationMode:{observer:null,stop:function(){this.observer&&this.observer.stop(),["sfSkip"].forEach((function(e){for(var t,a=Object(y.a)(e),n=document.querySelectorAll("["+a+"]"),i=0;t=n[i];i++)t.removeAttribute(a)}))},enable:function(){if(this.observer)return this.observer.start();this.observer=new m.a({queries:[{css:'section > div > div > div[style*="scale(1)"] > section > div > div > div > div, section > div:not([style]) > div > div > div',is:"added",callback:function(e){var t=e.added,a=function(){document.querySelectorAll(".sf--story-btn").forEach((function(e){return e.remove()}))};t.forEach((function(e){var t=e.querySelector("video");if(t)a(),h.addBtnVideoStory(t);else{var n=e.querySelector("img");n&&(a(),h.addBtnImageStory(n))}}))}},{css:'div > div > article > div > div:nth-child(2) div[role="button"],\n              div > div > article div[style*="padding-bottom: 177"]',is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)t.dataset.sfSkip>0||(t.dataset.sfSkip="1",h.addDlBtn(t.parentNode,"",t))}},{css:"._5wCQW > video[controls]",is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)t.dataset.sfSkip>0||(t.dataset.sfSkip="1",h.addDlBtn(t.parentNode,"strangeVideo",t))}},{css:'div > div > article > div > div:nth-child(1) div[role="button"]',is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)t.dataset.sfSkip>0||t.querySelector("ul > li")||(t.dataset.sfSkip="1",h.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div > div:nth-child(1)  div[style*="padding-bottom: 177"],\n              div[role="button"] div[style*="padding-bottom: 177"],\n              div[role="button"] div[style*="width: 100%;"],\n              article[role="presentation"] div[style*="padding-bottom: 100%;"],\n              div[role="button"] div[style*="padding-bottom: 100%;"],\n              div[role="dialog"] article[role="presentation"] div[style*="padding-bottom:"]',is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)t.dataset.sfSkip>0||t.querySelector("ul > li")||(t.dataset.sfSkip="1",h.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div > div:nth-child(2)  div[style*="padding-bottom: 56.2963%"]',is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)t.dataset.sfSkip>0||t.querySelector("ul > li")||(t.dataset.sfSkip="1",h.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div > div[class*="_aatn"] > div > div > div > div ,\n              section div[role="button"] div[style*="padding-bottom:"]',is:"added",callback:function(e){for(var t,a=e.added,n=0;t=a[n];n++)"1"!==t.dataset.sfSkip&&(t.dataset.sfSkip="1",h.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div div[class*="_aatk"] div[role*="presentation"] ul > li:nth-child(2) > div > div > div > div > div > div  ',is:"added",callback:function(e){for(var t,a=e.added,n=0;t=a[n];n++)"1"!==t.dataset.sfSkip&&(t.dataset.sfSkip="1",h.addDlBtn(t.parentNode,"",t))}},{css:'div > div > article > div > div:nth-child(1) div[style*="height: calc(100% + 1px); position: absolute; width: 100%;"] > div',is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)t.dataset.sfSkip>0||t.querySelector("ul > li")||(t.dataset.sfSkip="1",h.addDlBtn(t.parentNode,"",t))}},{css:".Embed > .Content.EmbedFrame > .EmbedVideo",is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)if(!(t.dataset.sfSkip>0)){t.dataset.sfSkip="1";var n=Object(S.a)(t,".Embed");n&&(n.dataset.sfSkip="1",h.addDlBtn(n,"embed",n))}}},{css:".Embed > .Content.EmbedFrame.EmbedFrameWithSidecar > .EmbedSidecar > div > div > div + div > div > div > div > ul > li > div:nth-child(1) > div:nth-child(1)",is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)if(!(t.dataset.sfSkip>0)){t.dataset.sfSkip="1";var n=Object(S.a)(t,".Embed");if(n&&n.dataset.sfSkip>0){var i=document.querySelector(".Header");i&&E(i)}h.addDlBtn(t.parentNode,"",t)}}},{css:".Embed",is:"added",callback:function(e){for(var t,a=0;t=e.added[a];a++)t.dataset.sfSkip>0||(t.dataset.sfSkip="1",h.addDlBtn(t,"embed",t))}},{css:".".concat(v.a.onRemoveClassName),is:"removed",callback:function(e){for(var t,a=0;t=e.removed[a];a++)v.a.onRemoveListener(t)}}]})}}};function k(e){return e.stopPropagation(),d.a.isFirefox?(e.preventDefault(),function(e,t,a){"sf--story-btn"===a?Object(w.a)({category:"download",subcategory:"in",event:"story"}):t.includes("mp4")?Object(w.a)({category:"download",subcategory:"in",event:"video"}):Object(w.a)({category:"download",subcategory:"in",event:"photo"});return Object(x.a)({action:"ffInstagramDownloadMedia",downloadFileUrl:e,filename:t})}(this.href,this.download)):a.downloadOnClick(e,void 0,{el:this})}function E(e){for(var t,a=e.querySelectorAll("."+h.dlBtnClassName),n=0;t=a[n];n++)t.classList.remove(v.a.onRemoveClassName),t.parentNode.removeChild(t)}}),(function(){return!Object(c.a)()||!!/\/\/[^\/]+\.[^\/]+\/p\//.test(location.href)}))}});